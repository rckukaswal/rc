<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Java Programs</title>
<style>
  body { font-family: Arial; background:#f0f0f0; padding:20px; }
  .program-card { background:#fff; padding:15px; margin:10px 0; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
  pre { background:#eee; padding:10px; border-radius:5px; overflow-x:auto; }
</style>
</head>
<body>

<h1>Java Programs Repository</h1>
<div id="programs-container">Loading...</div>

<script>
const container = document.getElementById("programs-container");

// Fetch JSON with cache-busting
fetch("data/programs.json?t=" + Date.now(), { cache: "no-store" })
  .then(res => {
    if(!res.ok) throw new Error("HTTP Error " + res.status);
    return res.json();
  })
  .then(data => {
    container.innerHTML = ""; // clear Loading
    data.forEach(program => {
      const div = document.createElement("div");
      div.className = "program-card";
      div.innerHTML = `
        <h3>${program.title}</h3>
        <p><b>Language:</b> ${program.language}</p>
        <p><b>Category:</b> ${program.category}</p>
        <pre><code>// File: ${program.file}</code></pre>
      `;
      container.appendChild(div);
    });
  })
  .catch(err => {
    container.innerText = "Failed to load programs: " + err.message;
  });
</script>

</body>
</html>
